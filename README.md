# Вакансионный бот HH.ru

Этот репозиторий содержит код для вакансионного бота, который выполняет парсинг вакансий с HH.ru, фильтрацию и сортировку результатов, а также предоставляет возможность взаимодействия с отфильтрованным списком вакансий.
Установка

## Клонируйте репозиторий на свой компьютер:

```bash
git clone https://github.com/Dadoxr/vacancy_project.git
cd your-repo
```

## Убедитесь, что у вас установлен Poetry и все зависимости указаны в файле pyproject.toml. Если нет, выполните команду:

```bash
poetry install
```
## Запустите главный файл main.py:

```bash
python main.py
```

# Как использовать

- Установить переменные окружения,в частности:

```python
DB_PASSWD
``` 

- Запустите главный скрипт main.py.

- При первом запуске, вам будет предложено ввести ключевые слова для парсинга вакансий с HH.ru. После этого произойдет парсинг вакансий и их сохранение в вашу базу данных PostgreSQL.

- Затем, вам будет предложено выбрать фильтр для списка вакансий. Введите количество вакансий, которые хотите вывести в топ N, а также выберите тип сортировки (по названию или по заработной плате).


### Дополнительная информация

- Введите ключевые слова для фильтрации вакансий, если необходимо (можно оставить пустым для вывода всех вакансий).
- Введите диапазон заработной платы (от и до), если необходимо (можно оставить пустым для вывода всех вакансий).
- После выполнения фильтрации и сортировки, программа выведет топ N вакансий на экран.

### Замечания

- Возможны задержки и ошибки при парсинге данных с внешних сайтов, так как они могут менять свою структуру или ограничивать количество запросов.
- Ваши настройки и переменные окружения могут различаться. Убедитесь, что вы настроили их в соответствии с вашим окружением.
- Убедитесь, что PostgreSQL установлен и настроен на вашем сервере, и что вы указали правильные параметры подключения в файле main.py.


# Описание функций main.py
```renew_vacancy(text, employers_id)``````

- Главная функция, которая выполняет следующие действия:
    - Получает данные о вакансиях с HH.ru.
    - Форматирует данные и конвертирует зарплаты в рубли.
    - Сохраняет данные в базу данных PostgreSQL.
    - Возвращает объект базы данных.

```formating_vacancies(hh_vacancies_list, currency_cite_data, employers_id)```

- Функция для форматирования данных о вакансиях HH.ru и их конвертации в рубли.

```formating_employers(hh_employers_list)```

- Функция для форматирования данных о компаниях HH.ru.

